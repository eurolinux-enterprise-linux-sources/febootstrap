.\" Automatically generated by Pod::Man 2.22 (Pod::Simple 3.07)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "FEBOOTSTRAP-TO-INITRAMFS 8"
.TH FEBOOTSTRAP-TO-INITRAMFS 8 "2010-09-17" "febootstrap-2.9" "Virtualization Support"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
febootstrap\-to\-initramfs \- Convert febootstrap root to initramfs (cpio) file.
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
.Vb 1
\& febootstrap\-to\-initramfs [\-\-files=filelist] DIR > initrd.img
.Ve
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fIfebootstrap-to-initramfs\fR converts the filesystem created by
\&\fIfebootstrap\fR\|(8) into an initramfs image.  This allows the new system
to be booted on real hardware or inside a QEMU-based virtual machine.
.PP
An initramfs image is just a compressed cpio file, so you could
uncompress it with \fIgunzip\fR\|(1) and use \fIcpio\fR\|(1) to convert it into
other formats.
.PP
The permissions inside the initrd image are corrected automatically
(see the discussion of fakeroot logfile in the \fIfebootstrap\fR\|(8)
page).  You do \fInot\fR need to run this command as root.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\-\-files=filelist" 4
.IX Item "--files=filelist"
\&\f(CW\*(C`filelist\*(C'\fR should be a file containing a list of the files to be
added to the initramfs (one per line).  Only those files are added and
any others are ignored.
.Sp
When the \f(CW\*(C`\-\-files\*(C'\fR option is not given, all files in \f(CW\*(C`DIR\*(C'\fR are added
to the initramfs image.
.IP "\-\-nocompress" 4
.IX Item "--nocompress"
This prevents the initramfs image from being compressed.
.Sp
Linux can boot from uncompressed initramfs images (in fact, faster),
but they take up a lot more space on disk.
.SH "/init"
.IX Header "/init"
Normal initramfs images start by executing the program or script
called \f(CW\*(C`/init\*(C'\fR.  febootstrap does not create this script, so you may
wish to, particularly for very minimal bootstraps that don't have the
normal SysVinit/upstart machinery.  It's also required if the kernel
cannot find a \*(L"real\*(R" root filesystem (the root filesystem that we
built and placed in an initramfs doesn't count).
.PP
Linux will try to run the following commands in turn, unless you
override it using the \f(CW\*(C`init=\f(CIcmd\f(CW\*(C'\fR kernel option:
.IP "\(bu" 4
/init
.IP "\(bu" 4
/sbin/init
.IP "\(bu" 4
/etc/init
.IP "\(bu" 4
/bin/init
.IP "\(bu" 4
/bin/sh
.SH "MEMORY REQUIREMENTS"
.IX Header "MEMORY REQUIREMENTS"
Initramfs images are uncompressed by the kernel into memory.  When
booting the new system you will need at least enough free \s-1RAM\s0 to store
the \fBuncompressed\fR filesystem plus extra to run any programs.  Bear
this in mind when creating very large filesystems.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIfebootstrap\fR\|(8),
\&\fIcpio\fR\|(1).
.SH "AUTHORS"
.IX Header "AUTHORS"
Richard W.M. Jones <rjones @ redhat . com>
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
(C) Copyright 2009 Red Hat Inc.,
<http://people.redhat.com/~rjones/febootstrap>.
.PP
This program is free software; you can redistribute it and/or modify
it under the terms of the \s-1GNU\s0 General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.
.PP
This program is distributed in the hope that it will be useful,
but \s-1WITHOUT\s0 \s-1ANY\s0 \s-1WARRANTY\s0; without even the implied warranty of
\&\s-1MERCHANTABILITY\s0 or \s-1FITNESS\s0 \s-1FOR\s0 A \s-1PARTICULAR\s0 \s-1PURPOSE\s0.  See the
\&\s-1GNU\s0 General Public License for more details.
.PP
You should have received a copy of the \s-1GNU\s0 General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 675 Mass Ave, Cambridge, \s-1MA\s0 02139, \s-1USA\s0.
